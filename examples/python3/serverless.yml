service: scaleway-python3
configValidationMode: off
provider:
  name: scaleway
  runtime: python310

  # Global Environment variables - used in every function
  env:
    test: test

  # Read credentials from scw CLI config
  scwToken: "${file(${env:HOME}/.config/scw/config.yaml):secret_key}"
  scwProject: "${file(${env:HOME}/.config/scw/config.yaml):default_project_id}"
  scwRegion: "${file(${env:HOME}/.config/scw/config.yaml):default_region}"

plugins:
  - serverless-scaleway-functions

package:
  patterns:
    - '!node_modules/**'
    - '!.gitignore'
    - '!.git/**'

functions:
  first:
    handler: handler.handle

    # Local environment variables - used only in given function
    env:
      local: local
